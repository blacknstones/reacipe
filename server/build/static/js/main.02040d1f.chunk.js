(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(30),i=a.n(n),c=a(5),l=a(10),o=a(2),b=[{type:"diet",webLabel:"Balanced",label:"balanced",definition:"Protein/Fat/Carb values in 15/35/50 ratio"},{type:"diet",webLabel:"High-Fiber",label:"high-fiber",definition:"More than 5g fiber per serving"},{type:"diet",webLabel:"High-Protein",label:"high-protein",definition:"More than 50% of total calories from proteins"},{type:"diet",webLabel:"Low-Carb",label:"low-carb",definition:"Less than 20% of total calories from carbs"},{type:"diet",webLabel:"Low-Fat",label:"low-fat",definition:"Less than 15% of total calories from fat"},{type:"diet",webLabel:"Low-Sodium",label:"low-sodium",efinition:"Less than 140mg Na per serving"}],p=[{type:"health",webLabel:"Kosher",label:"kosher",definition:"Contains only ingredients allowed by the kosher diet. However it does not guarantee kosher preparation of the ingredients themselves"},{type:"health",webLabel:"Alcohol-free",label:"alcohol-free",definition:"No alcohol used or contained"},{type:"health",webLabel:"Red meat-free",label:"red-meat-free",definition:"Does not contain beef, lamb, pork, duck, goose, game, horse, and other types of red meat or products containing red meat."},{type:"health",webLabel:"Vegan",label:"vegan",definition:"No meat, poultry, fish, dairy, eggs or honey"},{type:"health",webLabel:"Vegetarian",label:"vegetarian",definition:"No meat, poultry, or fish"}],u=[{type:"health",webLabel:"Dairy",label:"dairy-free",definition:"No dairy; no lactose"},{type:"health",webLabel:"Egg",label:"egg-free",definition:"No eggs or products containing eggs"},{type:"health",webLabel:"Fish",label:"fish-free",definition:"No fish or fish derivatives"},{type:"health",webLabel:"Gluten",label:"gluten-free",definition:"No ingredients containing gluten"},{type:"health",webLabel:"Peanuts",label:"peanut-free",definition:"No peanuts or products containing peanuts"},{type:"health",webLabel:"Shellfish",label:"shellfish-free",definition:"No shellfish or shellfish derivatives"},{type:"health",webLabel:"Soy",label:"soy-free",definition:"No soy or products containing soy"},{type:"health",webLabel:"Tree Nuts",label:"tree-nut-free",definition:"No tree nuts or products containing tree nuts"},{type:"health",webLabel:"Wheat",label:"wheat-free",definition:"No wheat, can have gluten though"}],d=[{type:"mealType",label:"Breakfast"},{type:"mealType",label:"Lunch"},{type:"mealType",label:"Dinner"},{type:"mealType",label:"Snack"},{type:"mealType",label:"Teatime"}],j=[{type:"cuisineType",label:"American"},{type:"cuisineType",label:"Asian"},{type:"cuisineType",label:"British"},{type:"cuisineType",label:"Caribbean"},{type:"cuisineType",label:"Central Europe"},{type:"cuisineType",label:"Chinese"},{type:"cuisineType",label:"Eastern Europe"},{type:"cuisineType",label:"French"},{type:"cuisineType",label:"Indian"},{type:"cuisineType",label:"Italian"},{type:"cuisineType",label:"Japanese"},{type:"cuisineType",label:"Kosher"},{type:"cuisineType",label:"Mediterranean"},{type:"cuisineType",label:"Mexican"},{type:"cuisineType",label:"Middle Eastern"},{type:"cuisineType",label:"Nordic"},{type:"cuisineType",label:"South American"},{type:"cuisineType",label:"South East Asian"}],h=a(0),f=function(e){var t=e.setOpen;return Object(h.jsx)("div",{className:"filters",children:Object(h.jsxs)("div",{className:"filters__content",children:[Object(h.jsx)("button",{className:"close__button",onClick:function(){t(!1)},children:Object(h.jsx)("i",{className:"fas fa-times"})}),Object(h.jsxs)("div",{className:"filters__group",children:[Object(h.jsx)("p",{className:"filters__tag",children:"Health"}),b.map((function(e){return Object(h.jsx)(M,{data:e},e.label)}))]}),Object(h.jsxs)("div",{className:"filters__group",children:[Object(h.jsx)("p",{className:"filters__tag",children:"Diet"}),p.map((function(e){return Object(h.jsx)(M,{data:e},e.label)}))]}),Object(h.jsxs)("div",{className:"filters__group",children:[Object(h.jsx)("p",{className:"filters__tag",children:"Allergy"}),u.map((function(e){return Object(h.jsx)(M,{data:e},e.label)}))]}),Object(h.jsxs)("div",{className:"filters__group",children:[Object(h.jsx)("p",{className:"filters__tag",children:"Cuisine"}),j.map((function(e){return Object(h.jsx)(M,{data:e},e.label)}))]}),Object(h.jsxs)("div",{className:"filters__group",children:[Object(h.jsx)("p",{className:"filters__tag",children:"Meal"}),d.map((function(e){return Object(h.jsx)(M,{data:e},e.label)}))]})]})})},_=a(8),m=a.n(_),O=a(12),x=a(13),v=a.n(x),g=function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/recipes",{params:t});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/recipes/"+t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/recipes/next",{params:{url:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/favorites");case 3:return t=e.sent,console.log("getting favorites",t),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/api/favorites",t);case 3:return a=e.sent,console.log("adding to favorites",a),e.abrupt("return",a.data.favorites);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.delete("/api/favorites/"+t);case 3:return a=e.sent,e.abrupt("return",a.data.newFavorites);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=Object(s.createContext)(),k=function(){var e=Object(o.f)(),t=Object(s.useContext)(S),a=t.searchQuery,r=t.setSearchQuery,n=t.setData,i=t.filters,l=Object(s.useState)(""),b=Object(c.a)(l,2),p=b[0],u=b[1],d=Object(s.useState)(!1),j=Object(c.a)(d,2),_=j[0],m=j[1];return Object(h.jsxs)("div",{className:"search-bar",children:[Object(h.jsxs)("div",{className:"search__actions",children:[Object(h.jsxs)("form",{className:"search__form",onSubmit:function(t){t.preventDefault(),r(p),console.log(a);var s=function(e,t){var a=new URLSearchParams;return a.append("q",e),t.forEach((function(e){a.append(e.type,e.label)})),a}(p,i);g(s).then((function(e){n(e)})),u(""),e.push("/recipes")},children:[Object(h.jsx)("input",{className:"search__input",type:"text",placeholder:"Search for recipes...",name:"query",value:p,onChange:function(e){u(e.target.value)},required:!0}),Object(h.jsx)("input",{className:"search__button",type:"submit",value:"Search"})]}),Object(h.jsx)("button",{className:"filter__button-add",onClick:function(){return m(!_)},children:"Add filter"})]}),Object(h.jsx)("div",{className:"filters-selected",children:i.map((function(e){return Object(h.jsx)("span",{className:"filters__item-selected",children:e.webLabel?e.webLabel:e.label})}))}),_&&Object(h.jsx)(f,{setOpen:m})]})},C=function(e){var t=e.data;return Object(s.useEffect)((function(){console.log("in cards",t)}),[t]),Object(h.jsx)("div",{className:"cards",children:t.map((function(e,t){return Object(h.jsx)(E,{data:e.recipe},t)}))})},E=function(e){var t=e.data,a=t.uri.split("_")[1];return Object(h.jsx)("div",{className:"recipe__card",children:Object(h.jsx)(l.b,{to:"/recipes/".concat(a),children:Object(h.jsxs)("div",{className:"recipe__card__content",children:[Object(h.jsx)("img",{className:"recipe__card__img",src:t.image,alt:t.label}),Object(h.jsx)("p",{className:"recipe__card__name",children:t.label}),Object(h.jsxs)("div",{className:"recipe__card__tag",children:[Object(h.jsx)("span",{className:"recipe__card__tag__item",children:"".concat(Math.floor(t.calories)," Calories")}),Object(h.jsx)("span",{className:"recipe__card__tag__item",children:"".concat(t.ingredients.length," Ingredients")})]})]})})})},F=a(16),M=function(e){var t=e.data,a=Object(s.useContext)(S),r=a.filters,n=a.setFilters,i=!!r.find((function(e){return e.label===t.label})),l=Object(s.useState)(i),o=Object(c.a)(l,2),b=o[0],p=o[1];return Object(h.jsx)("button",{className:"filter-button ".concat(b?"active":""),onClick:function(){var e=!b;if(p(e),e)n([].concat(Object(F.a)(r),[t]));else{var a=r.filter((function(e){return e.label!==t.label}));n(a)}},children:t.webLabel?t.webLabel:t.label})},A=function(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)(l.b,{className:"nav-link",to:"/",children:"HOME"}),Object(h.jsx)(l.b,{className:"nav-link",to:"/recipes",children:"RECIPES"}),Object(h.jsx)(l.b,{className:"nav-link",to:"/favorites",children:"FAVORITES"})]})},D=function(){return Object(h.jsxs)("div",{className:"home__page",children:[Object(h.jsxs)("h1",{className:"title",children:["Eat ",Object(h.jsx)("span",{className:"brand",children:"Healthier"})," than yesterday."]}),Object(h.jsx)(k,{})]})},I=function(){var e=Object(s.useContext)(S),t=e.data,a=e.setData;return Object(h.jsxs)("div",{className:"recipes-page",children:[Object(h.jsx)(k,{}),t&&t.recipes?Object(h.jsxs)("div",{className:"recipes__container",children:[Object(h.jsx)(C,{data:t.recipes}),Object(h.jsx)("button",{className:"show__button",onClick:function(){N(t.next).then((function(e){a({recipes:[].concat(Object(F.a)(t.recipes),Object(F.a)(e.recipes)),next:e.next})}))},children:"Show more"})]}):Object(h.jsx)("p",{children:t&&t.error?"Seems like there's no recipe to show. Try to search something else!":"Loading..."})]})},P=function(){var e=Object(o.g)().id,t=Object(s.useContext)(S),a=t.data,r=t.favorites,n=t.setFavorites,i=Object(s.useState)(),l=Object(c.a)(i,2),b=l[0],p=l[1],u=Object(s.useState)(function(e,t){return!!e&&!!e.find((function(e){return e.id===t}))}(r,e)),d=Object(c.a)(u,2),j=d[0],f=d[1];return Object(s.useEffect)((function(){if(a){var t=a.recipes.filter((function(t){return t.recipe.uri.includes(e)}))[0];if(t){var s=t.recipe;p(s)}else y(e).then((function(e){return p(e.recipe)}))}}),[a,e]),Object(h.jsx)("div",{className:"detail-page",children:b?Object(h.jsxs)("div",{className:"recipe__detail",children:[Object(h.jsxs)("div",{className:"recipe__detail__group",id:"group-1",children:[Object(h.jsx)("h1",{className:"recipe__detail__name",children:b.label}),Object(h.jsxs)("div",{className:"recipe-favorite",children:[Object(h.jsx)("button",{className:"favorite__button",onClick:function(){var t=!j;f(t),t?L({id:e,recipe:b}).then((function(e){return n(e)})):T(e).then((function(e){return n(e)}))},children:j?Object(h.jsx)("i",{className:"fas fa-heart"}):Object(h.jsx)("i",{className:"far fa-heart"})}),Object(h.jsx)("p",{className:"favorite__button-tag",children:j?"Remove from Favorites":"Add to favorites"})]})]}),Object(h.jsxs)("div",{className:"recipe__detail__group",id:"group-2",children:[Object(h.jsx)("img",{className:"recipe__detail__image",src:b.image,alt:b.label}),Object(h.jsxs)("div",{className:"recipe__detail__tags",children:[Object(h.jsxs)("div",{className:"recipe__detail__tags__group",children:[Object(h.jsxs)("span",{className:"recipe__detail__tags__item",children:[Object(h.jsx)("span",{className:"tag-hightlight",children:Math.floor(b.calories)}),Object(h.jsx)("span",{children:" Calories in total"})]}),Object(h.jsxs)("span",{className:"recipe__detail__tags__item",children:[Object(h.jsx)("span",{className:"tag-hightlight",children:b.yield}),Object(h.jsx)("span",{children:" Servings"})]})]}),Object(h.jsx)("div",{className:"recipe__detail__tags__group",children:Object(h.jsxs)("span",{className:"recipe__detail__tags__item",children:[Object(h.jsx)("span",{className:"tag-hightlight",children:Math.floor(b.calories/b.yield)}),Object(h.jsx)("span",{children:" Calories per serving"})]})}),Object(h.jsxs)("div",{className:"recipe__detail__tags__group",id:"group-3",children:[b.dietLabels.map((function(e){return Object(h.jsx)("div",{className:"tag-name",children:e},e.index)})),b.healthLabels.map((function(e){return Object(h.jsx)("div",{className:"tag-name",children:e},e.index)}))]}),Object(h.jsxs)("div",{className:"recipe__detail__tags__group",children:[Object(h.jsx)("span",{className:"tag-type",children:b.cuisineType?b.cuisineType:"Delish"}),Object(h.jsx)("span",{className:"tag-type",children:b.dishType?b.dishType:"Meal"}),Object(h.jsx)("span",{className:"tag-type",children:b.mealType?b.mealType:"For the day"})]})]})]}),Object(h.jsxs)("div",{className:"recipe__detail__group",id:"group-3",children:[Object(h.jsx)("h2",{children:"Preparation"}),Object(h.jsxs)("div",{className:"preparation",children:[Object(h.jsxs)("div",{className:"ingredients",children:[Object(h.jsx)("div",{className:"recipe__detail__tags__group",children:Object(h.jsxs)("span",{className:"recipe__detail__tags__item",children:[Object(h.jsx)("span",{className:"tag-hightlight",children:b.ingredients.length}),Object(h.jsx)("span",{children:" Ingredients"})]})}),b.ingredientLines.map((function(e){return Object(h.jsx)("p",{children:e})}))]}),Object(h.jsxs)("div",{className:"instruction",children:[Object(h.jsx)("div",{className:"recipe__detail__tags__group",children:Object(h.jsxs)("span",{className:"recipe__detail__tags__item",children:[Object(h.jsx)("span",{className:"tag-hightlight",children:b.totalTime}),Object(h.jsx)("span",{children:" Minutes"})]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"See full instructions at:"}),Object(h.jsx)("a",{className:"instruction-link",href:b.url,target:"_blank",rel:"noreferrer",children:b.source})]})]})]})]})]}):Object(h.jsx)("p",{children:"Recipe not found!"})})},H=function(){var e=Object(s.useContext)(S),t=e.favorites,a=e.setFavorites;return Object(s.useEffect)((function(){w().then((function(e){a(e.data.favorites)}))}),[a]),Object(h.jsxs)("div",{className:"favorites-page",children:[Object(h.jsx)("h1",{className:"favorites__page__title",children:"Your Favorites"}),Object(h.jsx)("div",{className:"favorites__container",children:t?Object(h.jsx)("div",{className:"cards",children:t.map((function(e){return Object(h.jsx)(E,{data:e.recipe})}))}):Object(h.jsx)("p",{className:"message",children:"No Favorites!"})})]})};a(64);var R=function(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(null),i=Object(c.a)(n,2),b=i[0],p=i[1],u=Object(s.useState)([]),d=Object(c.a)(u,2),j=d[0],f=d[1],_=Object(s.useState)([]),m=Object(c.a)(_,2),O=m[0],x=m[1];return Object(h.jsx)(S.Provider,{value:{searchQuery:a,setSearchQuery:r,data:b,setData:p,filters:j,setFilters:f,favorites:O,setFavorites:x},children:Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(l.a,{children:[Object(h.jsx)(A,{}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(D,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/recipes",children:Object(h.jsx)(I,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/recipes/:id",children:Object(h.jsx)(P,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/favorites",children:Object(h.jsx)(H,{})})]})]})})})};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.02040d1f.chunk.js.map